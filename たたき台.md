# コンセプト & 体験の核

* **存在しない単語**を、

  1. 表の意味（ innocuous / 辞書風 ）→
  2. 裏の意味（考察で繋がる真相）
     の二段階で提示。
* 読者は\*\*「気づき」**でゾワっとする。直接ホラーを描かず**連想・余白\*\*で怖さを創る。
* UIは**静か／節度ある演出**（小さな揺らぎ・遅延・音はデフォ無効）で**A11yを担保**。

---

# 情報設計（エントリー・スキーマ）

各単語ページは以下のブロックで構成します。

1. **見出し**

* `語`: 造語（ひらがな/カタカナ/漢字/混在OK）
* `読み`: ひらがな / IPA 任意
* `品詞`: 名詞・動詞・形容など（“感嘆”などの擬似品詞も可）
* `初出`: バージョン/リリース日/出典

2. **表の意味（Definition A）**

* 辞書調の素っ気ない説明（100–140字）
* 用例A（無害に見える実用例）

3. **裏の意味（Definition B｜折りたたみ）**

* `summary/details`や“クリックで開く”仕様
* 気づきの手がかり（箇条書き3つ以内）
* 用例B（読むと文脈が一転）

4. **タグ**（複数）

* **情緒**: 郷愁／罪悪感／不在／反復／記憶
* **モチーフ**: 駅／鏡／電話／階段／水／名簿
* **仕掛け**: 語源トリック／時制逆転／同音異義／アナグラム
* **危険度**: 1–5（“怖度”UIも可）

5. **連想リンク**

* 類音（音韻距離）／共通タグ／同一登場人物メモ
* グラフ的に横断（過剰に見せず、2–4件）

6. **メタ**

* 作者注記（短め）／改稿履歴／コンテンツ注意（CWs）

---

# データ形式（Markdown + Frontmatter）

```md
---
id: "torioboe"
語: "鳥覚え"
読み: "とりおぼえ"
品詞: "名詞"
初出: "v1.0 (2025-09-08)"
怖度: 3
タグ:
  情緒: ["不在","記憶"]
  モチーフ: ["朝","窓"]
  仕掛け: ["用法二層","同音連想"]
関連: ["madowaki","nureoto"]
音: "toɾʲi oboe"
A11y:
  contentWarnings: ["記憶喪失を想起させる描写"]
---

### 表の意味
夜明けごろ、眠りの縁でだけ思い出せる出来事や固有名のこと。

**用例A**  
> うーん、**鳥覚え**なんだよね。起きるともう忘れてて。

<details>
<summary>裏の意味（クリックで展開）</summary>

**裏の意味**  
朝方にだけ“思い出せる”のではなく、**朝方にだけ思い出すように“教えられている”**記憶。記憶の持ち主は別にいる。

**手がかり**  
- 毎朝おなじ時刻の“窓辺”でだけ想起  
- 思い出す内容に**一人称が変動**  
- 当人の生活圏に存在しない地名が混じる

**用例B**  
> きょうも**鳥覚え**。窓の外に「通学路」が見えたけど、ぼくは会社に行くはずだ。

</details>
```

---

# サイト構成（Astro + Tailwind 前提）

```
/src
  /content
    /words/*.md     # 上記Frontmatter
  /components
    WordCard.astro
    WordEntry.astro
    Spoiler.tsx     # details/summary拡張、A11y対応
    TagPills.astro
    RelatedLinks.astro
  /pages
    index.astro      # 新着/人気/タグ
    /w/[id].astro    # 単語詳細
    /tags/[tag].astro
    about.astro
  /lib
    schema.ts        # Zod/AjvでFrontmatter検証
    related.ts       # タグ/音韻による推薦
    phonetics.ts     # ざっくり音韻距離（母音系列+子音群）
/public
  /fonts
  /sfx              # デフォ無効、ユーザー操作でON
```

---

# UI/UXのキー

* **二段表示**：表は即表示、裏は`<details>`＋**視線誘導の小さな揺らぎ**（CSSで0.5pxのサブピクセル移動・好みに応じてOFF可能）。
* **暗色テーマ**：背景#0B0B0F／本文#ECECEC／差し色#E4455A（警告）#4D77FF（リンク）。コントラスト比> 7:1 を意識。
* **Spoiler可視性**：フォーカスリングを強調、Enter/Spaceで開閉可能、モバイルはタップ領域広め。
* **A11y**：アニメは**OSのreduce-motion**に追従、音はデフォOFF・明示的ONのみ。色依存の伝達は禁止（アイコン＋文言併用）。

---

# コンポーネント要件（実装メモ）

**Spoiler.tsx（概念）**

```tsx
// キーボード操作 & reduce-motion対応
export function Spoiler({summary, children}) {
  // details/summaryをラップしてaria-expanded・aria-controlsで同期
}
```

**WordCard**

* 見出し／読み／怖度（●●●○○）／主要タグ3つ
* ホバーで**微グリッチ（CSSフィルタで0.1sだけ歪み）**
* クリック先は /w/\[id]

**WordEntry**

* 表→区切り→裏（折りたたみ）
* **手がかり**は3点まで（冗長禁止）
* 末尾に**関連（最大4）**：共通タグ ≥2 または音韻距離≦しきい値

---

# 検索 & 閲覧導線

* **クイック検索**：見出し・読み・タグを対象（前方一致+部分一致）。
* **タグ横断**：「情緒」「モチーフ」「仕掛け」を**三段チップ**でフィルタAND/OR切替。
* **閲覧モード**：

  * 通常表示（裏は閉）
  * **考察モード**（裏をデフォ開／ヒント増量）
  * **やさしめ**（怖度>3を除外、CWsも明示）

---

# 文章作法（執筆ガイド）

* 表は**辞書っぽく**：「〜のこと」「〜を指す」。比喩は控えめ。
* 裏は**断定を避ける**：「〜らしい」「〜とされる」。直接的な恐怖語を避け、**主語のぶれ**で不穏を作る。
* **用例A→Bの反転**が肝。用例Bには**一人称のずれ・地名の未確認・時刻の固定**など“薄い異常”。
* 1エントリ**400–700字**に収める（読み切りテンポ）。
* 実在個人・特定施設への配慮。CWsを付与。

---

# 追加サンプル（短め2つ）

**語**：窓脇数（まどわきず）／名詞／怖度2

* 表：窓際席でだけ数えられる、日常の物事の個数。
* 用例A：**窓脇数**だと三つあるのに、席を替えると二つになる。
* 裏：**窓に映る側**で起きる数の一致現象。**映らない人**は数えなくてよい。
* 手がかり：夕刻限定／写真に写らない／鏡では増減しない。

**語**：濡音（ぬれおと）／名詞／怖度4

* 表：濡れた布越しに聞くような、くぐもった音色。
* 用例A：雨の日は**濡音**になるから店内BGMを小さめに。
* 裏：**水越しの声**は、**向こう側**からの伝達に近い。耳ではなく、**肺**で聞こえる。
* 手がかり：息切れと同時に明瞭化／水場の近くでのみ再現。

---

# バリデーション（Zod/Ajv）

```ts
// /src/lib/schema.ts（Zod例）
import { z } from "zod";
export const WordSchema = z.object({
  id: z.string().regex(/^[a-z0-9-]+$/),
  語: z.string().min(1),
  読み: z.string().min(1),
  品詞: z.string().min(1),
  初出: z.string().optional(),
  怖度: z.number().int().min(1).max(5),
  タグ: z.object({
    情緒: z.array(z.string()).max(3).optional(),
    モチーフ: z.array(z.string()).max(3).optional(),
    仕掛け: z.array(z.string()).max(3).optional(),
  }),
  関連: z.array(z.string()).max(6).optional(),
  音: z.string().optional(),
  A11y: z.object({
    contentWarnings: z.array(z.string()).optional(),
  }).optional()
});
```

---

# 演出ミニパターン（控えめで効くやつ）

* **遅延出現**：裏の見出しだけ 80–120ms ランダムディレイ。
* **文字間の乱れ**：`:focus-visible`時に`letter-spacing`を+0.01em。
* **スクロール端の“息継ぎ”**：最下部到達で関連カードが**1pxだけ上に跳ねる**。

※すべて`prefers-reduced-motion`有効時はオフ。

---

# 投稿フロー（将来の拡張）

1. フォーム投稿 → 2) ステージング（プレビューURL自動生成） → 3) 監修チェック（怖度/タグ/CWs） → 4) 本番反映

* **自動類似判定**（見出し距離・音韻距離・タグ共起）で重複を警告。
* 投稿規約に「実在個人・団体への配慮 / 二次創作の扱い / CWs基準」を明記。

---

# すぐ始めるためのTo-Do（初回スプリント）

1. **カラーパレット & フォント決定**（本文は可読最優先・日本語等幅系をサブで）
2. **WordSchema**を実装 → `.md`テンプレを3本起こす（上のサンプル流用OK）
3. **WordCard / WordEntry / Spoiler**の3コンポーネントを作る
4. トップページに**新着8件＋タグ雲＋怖度フィルタ**
5. `related.ts`の**簡易ロジック**（共通タグ≥2 or 先頭音一致）
6. A11yチェック（キーボードのみで閲覧可能か／コントラスト／reduce-motion）

---